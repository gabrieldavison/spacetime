{"version":3,"sources":["index.js"],"names":["notes","octave","note","step","steps","playPosition","editPosition","tickRate","playing","actions","inc","dec","bottom","top","noteRand","metroFast","metroSlow","positionRand","action","canvas","document","getElementById","ctx","getContext","timer","console","log","timeToTick","Date","now","nextTick","tick","requestAnimationFrame","playNote","draw","clearRect","width","height","widthUnit","textSpacing","x","y","i","font","fillStyle","fillText","rectangeWidth","measureText","beginPath","rect","stroke","length","randomIntFromInterval","time","min","max","Math","floor","random"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"../src","sourcesContent":["// Global Variables\n\nlet notes = [\"c\", \"d\", \"e\", \"f\", \"g\", \"a\", \"b\"]\nlet octave = 4\nlet note = 0\nlet step = [1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1]\nlet steps = 16\nlet playPosition = 0\nlet editPosition = 0\nlet tickRate = 500\nlet playing = true\n\nconst actions = [\n  inc,\n  dec,\n  bottom,\n  top,\n  noteRand,\n  metroFast,\n  metroSlow,\n  positionRand\n]\n\nconst action = [\n  '+',\n  '-',\n  '<',\n  '>',\n  '*',\n  'M',\n  'm',\n  '#'\n]\n\n\nconst canvas = document.getElementById('canvas');\n\nconst ctx = canvas.getContext(\"2d\")\n\n//creates timer loop\nfunction timer() {\n  console.log(\"starting timer\");\n\n  let timeToTick = Date.now();\n  function nextTick() {\n\n    const now = Date.now();\n    if (timeToTick <= now && playing == true) {\n      tick()\n      timeToTick = now + tickRate;\n    }\n    requestAnimationFrame(nextTick);\n  }\n  nextTick();\n}\ntimer();\n\n\nfunction tick() {\n  console.log(playPosition)\n  playPosition == steps -1 ? playPosition = 0: playPosition +=1\n  action[playPosition]\n  playNote()\n  draw()\n}\n\n\n\nfunction draw() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  const widthUnit = canvas.width / 10;\n  const textSpacing = (canvas.width - (widthUnit * 2)) / 16\n\n  let x = widthUnit\n  const y = canvas.height / 2;\n\n\n  for(let i = 0; i < 16; i++) {\n    ctx.font = '40px serif';\n    ctx.fillStyle = \"black\"\n    if(i === editPosition) {\n      ctx.fillStyle = \"red\"\n    }\n    ctx.fillText(action[step[i]], x, y);\n    if( i === playPosition) {\n\n      const rectangeWidth = ctx.measureText(step[i]).width\n      console.log(rectangeWidth)\n      ctx.beginPath()\n      ctx.rect(x, y - (rectangeWidth-20), rectangeWidth, 3)\n      ctx.stroke()\n    }\n\n    x += textSpacing\n  }\n\n}\n\n\n\n//****Actions******\n\n//Increments note\nfunction inc() {\n  if(note + 1 <= notes.length - 1) {\n    note += 1\n  } else if(note + 1 > notes.length - 1) {\n    octave += 1\n    note = 0\n  }\n}\n\n//Decrements note\nfunction dec() {\n  if(note - 1 >= 0) {\n    note -= 1\n  } else if(note - 1 < 0) {\n    octave -= 1\n    note = 0\n  }\n}\n\n//Skips to bottom note\nfunction bottom() {\n  note = 0\n  octave = 2\n}\n\n//Skips to top note\nfunction top() {\n  note = notes.length -1\n  octave = 5\n}\n\n//Skips to random note in current octave\nfunction noteRand() {\n  note=randomIntFromInterval(0, notes.length -1)\n}\n\nfunction metroFast() {\n  time *=0.5\n}\n\nfunction metroSlow() {\n  time *=2\n}\n\nfunction positionRand() {\n  playPosition = randomIntFromInterval(0, steps.length -1)\n}\n\n//*****UTILS********\n\nfunction playNote() {\n  console.log(notes[note] + octave)\n}\n\nfunction randomIntFromInterval(min, max) { \n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n"]}