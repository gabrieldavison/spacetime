{"id":"NtmW","dependencies":[{"name":"/home/gabriel/Coding/spacetime/node_modules/tone/build/esm/instrument/Instrument.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/gabriel/Coding/spacetime/node_modules/tone/Tone/instrument/Instrument.ts","includedInParent":true,"mtime":499162500000},{"name":"/home/gabriel/Coding/spacetime/package.json","includedInParent":true,"mtime":1603381067034},{"name":"/home/gabriel/Coding/spacetime/node_modules/tone/package.json","includedInParent":true,"mtime":1602689094921},{"name":"../component/channel/Volume","loc":{"line":1,"column":23},"parent":"/home/gabriel/Coding/spacetime/node_modules/tone/build/esm/instrument/Instrument.js","resolved":"/home/gabriel/Coding/spacetime/node_modules/tone/build/esm/component/channel/Volume.js"},{"name":"../core/context/ToneAudioNode","loc":{"line":2,"column":30},"parent":"/home/gabriel/Coding/spacetime/node_modules/tone/build/esm/instrument/Instrument.js","resolved":"/home/gabriel/Coding/spacetime/node_modules/tone/build/esm/core/context/ToneAudioNode.js"},{"name":"../core/util/Defaults","loc":{"line":3,"column":37},"parent":"/home/gabriel/Coding/spacetime/node_modules/tone/build/esm/instrument/Instrument.js","resolved":"/home/gabriel/Coding/spacetime/node_modules/tone/build/esm/core/util/Defaults.js"},{"name":"../core/util/Interface","loc":{"line":4,"column":25},"parent":"/home/gabriel/Coding/spacetime/node_modules/tone/build/esm/instrument/Instrument.js","resolved":"/home/gabriel/Coding/spacetime/node_modules/tone/build/esm/core/util/Interface.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Instrument=void 0;var t=require(\"../component/channel/Volume\"),e=require(\"../core/context/ToneAudioNode\"),s=require(\"../core/util/Defaults\"),i=require(\"../core/util/Interface\");class r extends e.ToneAudioNode{constructor(){super((0,s.optionsFromArguments)(r.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=(0,s.optionsFromArguments)(r.getDefaults(),arguments);this._volume=this.output=new t.Volume({context:this.context,volume:e.volume}),this.volume=this._volume.volume,(0,i.readOnly)(this,\"volume\")}static getDefaults(){return Object.assign(e.ToneAudioNode.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const s=this[\"_original_\"+t]=this[t];this[t]=((...t)=>{const i=t[e],r=this.context.transport.schedule(i=>{t[e]=i,s.apply(this,t)},i);this._scheduledEvents.push(r)})}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,s,i){const r=this.toSeconds(s),o=this.toSeconds(e);return this.triggerAttack(t,r,i),this.triggerRelease(r+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}exports.Instrument=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":0}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":13}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":20}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":35}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":43}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":56}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":57}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":64}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":68}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":76}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":92}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":139}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":141}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":149}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":184}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":192}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":217}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":219}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":227}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":1,"column":253}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":22},"generated":{"line":1,"column":259}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":76},"generated":{"line":1,"column":269}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":1,"column":271}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":49,"column":1},"generated":{"line":1,"column":285}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":1,"column":299}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":1,"column":306}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":1,"column":308}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":1,"column":310}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":1,"column":332}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":51,"column":40},"generated":{"line":1,"column":334}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":51,"column":55},"generated":{"line":1,"column":348}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":360}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":365}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":41,"column":38},"generated":{"line":1,"column":382}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":1,"column":385}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":1,"column":390}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":46,"column":19},"generated":{"line":1,"column":399}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":160,"column":9},"generated":{"line":1,"column":401}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":160,"column":9},"generated":{"line":1,"column":406}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":160,"column":35},"generated":{"line":1,"column":430}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":160,"column":40},"generated":{"line":1,"column":435}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":167,"column":9},"generated":{"line":1,"column":449}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":167,"column":9},"generated":{"line":1,"column":454}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":167,"column":36},"generated":{"line":1,"column":479}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":167,"column":41},"generated":{"line":1,"column":484}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":499}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":505}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":52,"column":18},"generated":{"line":1,"column":508}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":52,"column":39},"generated":{"line":1,"column":510}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":52,"column":39},"generated":{"line":1,"column":512}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":52,"column":39},"generated":{"line":1,"column":534}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":52,"column":50},"generated":{"line":1,"column":536}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":52,"column":65},"generated":{"line":1,"column":550}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":561}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":1,"column":566}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":54,"column":17},"generated":{"line":1,"column":574}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":1,"column":579}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":54,"column":31},"generated":{"line":1,"column":586}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":54,"column":35},"generated":{"line":1,"column":590}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":54,"column":31},"generated":{"line":1,"column":592}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":54,"column":42},"generated":{"line":1,"column":599}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":55,"column":3},"generated":{"line":1,"column":600}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":55,"column":12},"generated":{"line":1,"column":608}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":55,"column":17},"generated":{"line":1,"column":613}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":56,"column":3},"generated":{"line":1,"column":621}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":628}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":56,"column":19},"generated":{"line":1,"column":630}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":58,"column":7},"generated":{"line":1,"column":639}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":58,"column":7},"generated":{"line":1,"column":644}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":1,"column":651}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":58,"column":21},"generated":{"line":1,"column":656}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":58,"column":29},"generated":{"line":1,"column":664}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":672}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":674}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":676}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":686}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":59,"column":17},"generated":{"line":1,"column":691}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":701}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":722}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":729}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":1,"column":736}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":63,"column":23},"generated":{"line":1,"column":743}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":63,"column":37},"generated":{"line":1,"column":745}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":63,"column":37},"generated":{"line":1,"column":759}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":63,"column":52},"generated":{"line":1,"column":773}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":64,"column":3},"generated":{"line":1,"column":774}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":781}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":82,"column":1},"generated":{"line":1,"column":785}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":792}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":799}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":804}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":84,"column":8},"generated":{"line":1,"column":819}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":84,"column":8},"generated":{"line":1,"column":824}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":84,"column":20},"generated":{"line":1,"column":836}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":84,"column":37},"generated":{"line":1,"column":852}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":855}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":860}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":85,"column":20},"generated":{"line":1,"column":872}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":85,"column":38},"generated":{"line":1,"column":889}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":893}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":93,"column":11},"generated":{"line":1,"column":898}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":94,"column":6},"generated":{"line":1,"column":911}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":94,"column":6},"generated":{"line":1,"column":915}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":1,"column":918}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":99,"column":9},"generated":{"line":1,"column":920}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":95,"column":7},"generated":{"line":1,"column":927}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":95,"column":12},"generated":{"line":1,"column":932}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":942}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":947}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":96,"column":18},"generated":{"line":1,"column":956}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":97,"column":3},"generated":{"line":1,"column":958}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":97,"column":13},"generated":{"line":1,"column":961}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":99,"column":9},"generated":{"line":1,"column":964}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":107,"column":11},"generated":{"line":1,"column":966}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":107,"column":23},"generated":{"line":1,"column":978}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":107,"column":39},"generated":{"line":1,"column":980}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":983}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":989}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":108,"column":25},"generated":{"line":1,"column":991}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":108,"column":30},"generated":{"line":1,"column":996}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":108,"column":45},"generated":{"line":1,"column":1009}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":108,"column":55},"generated":{"line":1,"column":1012}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":108,"column":60},"generated":{"line":1,"column":1017}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":109,"column":7},"generated":{"line":1,"column":1020}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":109,"column":7},"generated":{"line":1,"column":1025}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":109,"column":17},"generated":{"line":1,"column":1028}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":109,"column":21},"generated":{"line":1,"column":1033}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":110,"column":9},"generated":{"line":1,"column":1038}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":110,"column":9},"generated":{"line":1,"column":1044}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":110,"column":16},"generated":{"line":1,"column":1046}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":110,"column":21},"generated":{"line":1,"column":1048}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":1051}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":111,"column":14},"generated":{"line":1,"column":1053}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":111,"column":19},"generated":{"line":1,"column":1058}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":111,"column":27},"generated":{"line":1,"column":1066}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":111,"column":37},"generated":{"line":1,"column":1076}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":111,"column":47},"generated":{"line":1,"column":1085}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":112,"column":4},"generated":{"line":1,"column":1089}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":112,"column":9},"generated":{"line":1,"column":1091}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":112,"column":25},"generated":{"line":1,"column":1094}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":1,"column":1096}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":113,"column":19},"generated":{"line":1,"column":1098}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":113,"column":25},"generated":{"line":1,"column":1104}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":113,"column":31},"generated":{"line":1,"column":1109}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":114,"column":6},"generated":{"line":1,"column":1113}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":1116}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":1121}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":115,"column":25},"generated":{"line":1,"column":1138}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":115,"column":30},"generated":{"line":1,"column":1143}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":122,"column":1},"generated":{"line":1,"column":1148}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":130,"column":9},"generated":{"line":1,"column":1157}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":123,"column":7},"generated":{"line":1,"column":1164}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":123,"column":7},"generated":{"line":1,"column":1169}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":123,"column":24},"generated":{"line":1,"column":1186}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":123,"column":32},"generated":{"line":1,"column":1194}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":123,"column":38},"generated":{"line":1,"column":1197}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":123,"column":43},"generated":{"line":1,"column":1202}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":123,"column":51},"generated":{"line":1,"column":1210}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":123,"column":61},"generated":{"line":1,"column":1220}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":123,"column":67},"generated":{"line":1,"column":1226}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":124,"column":7},"generated":{"line":1,"column":1230}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":124,"column":7},"generated":{"line":1,"column":1235}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":124,"column":26},"generated":{"line":1,"column":1252}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":125,"column":6},"generated":{"line":1,"column":1255}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":125,"column":11},"generated":{"line":1,"column":1260}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":126,"column":8},"generated":{"line":1,"column":1270}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":126,"column":8},"generated":{"line":1,"column":1275}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":126,"column":18},"generated":{"line":1,"column":1284}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":127,"column":8},"generated":{"line":1,"column":1286}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":127,"column":8},"generated":{"line":1,"column":1291}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":127,"column":24},"generated":{"line":1,"column":1305}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":127,"column":29},"generated":{"line":1,"column":1310}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":128,"column":8},"generated":{"line":1,"column":1334}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":128,"column":8},"generated":{"line":1,"column":1339}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":128,"column":25},"generated":{"line":1,"column":1354}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":128,"column":30},"generated":{"line":1,"column":1359}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":130,"column":9},"generated":{"line":1,"column":1385}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":145,"column":1},"generated":{"line":1,"column":1390}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":145,"column":22},"generated":{"line":1,"column":1411}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":145,"column":39},"generated":{"line":1,"column":1413}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":145,"column":55},"generated":{"line":1,"column":1415}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":145,"column":68},"generated":{"line":1,"column":1417}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":146,"column":8},"generated":{"line":1,"column":1420}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":146,"column":8},"generated":{"line":1,"column":1426}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":146,"column":23},"generated":{"line":1,"column":1428}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":146,"column":28},"generated":{"line":1,"column":1433}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":146,"column":38},"generated":{"line":1,"column":1443}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":147,"column":8},"generated":{"line":1,"column":1446}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":147,"column":27},"generated":{"line":1,"column":1448}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":147,"column":32},"generated":{"line":1,"column":1453}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":147,"column":42},"generated":{"line":1,"column":1463}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":150,"column":9},"generated":{"line":1,"column":1466}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":148,"column":7},"generated":{"line":1,"column":1473}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":148,"column":7},"generated":{"line":1,"column":1478}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":148,"column":21},"generated":{"line":1,"column":1492}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":148,"column":27},"generated":{"line":1,"column":1494}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":148,"column":41},"generated":{"line":1,"column":1496}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":149,"column":7},"generated":{"line":1,"column":1499}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":149,"column":7},"generated":{"line":1,"column":1504}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":149,"column":22},"generated":{"line":1,"column":1519}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":149,"column":37},"generated":{"line":1,"column":1521}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":150,"column":9},"generated":{"line":1,"column":1524}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":173,"column":1},"generated":{"line":1,"column":1529}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":178,"column":9},"generated":{"line":1,"column":1539}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":1,"column":1546}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":1,"column":1552}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":175,"column":7},"generated":{"line":1,"column":1562}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":175,"column":7},"generated":{"line":1,"column":1567}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":175,"column":15},"generated":{"line":1,"column":1575}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":176,"column":7},"generated":{"line":1,"column":1585}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":176,"column":7},"generated":{"line":1,"column":1590}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":177,"column":7},"generated":{"line":1,"column":1599}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":177,"column":7},"generated":{"line":1,"column":1604}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":177,"column":26},"generated":{"line":1,"column":1621}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":178,"column":9},"generated":{"line":1,"column":1624}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":1630}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":1638}},{"source":"../../../Tone/instrument/Instrument.ts","name":null,"original":{"line":15,"column":98},"generated":{"line":1,"column":1649}}],"sources":{"../../../Tone/instrument/Instrument.ts":"import { Volume } from \"../component/channel/Volume\";\nimport { Param } from \"../core/context/Param\";\nimport { OutputNode, ToneAudioNode, ToneAudioNodeOptions } from \"../core/context/ToneAudioNode\";\nimport { Decibels, Frequency, NormalRange, Time } from \"../core/type/Units\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { readOnly } from \"../core/util/Interface\";\n\nexport interface InstrumentOptions extends ToneAudioNodeOptions {\n\tvolume: Decibels;\n}\n\n/**\n * Base-class for all instruments\n */\nexport abstract class Instrument<Options extends InstrumentOptions> extends ToneAudioNode<Options> {\n\n\t/**\n\t * The output and volume triming node\n\t */\n\tprivate _volume: Volume;\n\toutput: OutputNode;\n\n\t/**\n\t * The instrument only has an output\n\t */\n\tinput: undefined;\n\n\t/**\n\t * The volume of the output in decibels.\n\t * @example\n\t * const amSynth = new Tone.AMSynth().toDestination();\n\t * amSynth.volume.value = -6;\n\t * amSynth.triggerAttackRelease(\"G#3\", 0.2);\n\t */\n\tvolume: Param<\"decibels\">;\n\n\t/**\n\t * Keep track of all events scheduled to the transport\n\t * when the instrument is 'synced'\n\t */\n\tprivate _scheduledEvents: number[] = [];\n\n\t/**\n\t * If the instrument is currently synced\n\t */\n\tprivate _synced = false;\n\n\tconstructor(options?: Partial<InstrumentOptions>);\n\tconstructor() {\n\n\t\tsuper(optionsFromArguments(Instrument.getDefaults(), arguments));\n\t\tconst options = optionsFromArguments(Instrument.getDefaults(), arguments);\n\n\t\tthis._volume = this.output = new Volume({\n\t\t\tcontext: this.context,\n\t\t\tvolume: options.volume,\n\t\t});\n\t\tthis.volume = this._volume.volume;\n\t\treadOnly(this, \"volume\");\n\t}\n\n\tstatic getDefaults(): InstrumentOptions {\n\t\treturn Object.assign(ToneAudioNode.getDefaults(), {\n\t\t\tvolume: 0,\n\t\t});\n\t}\n\n\t/**\n\t * Sync the instrument to the Transport. All subsequent calls of\n\t * [[triggerAttack]] and [[triggerRelease]] will be scheduled along the transport.\n\t * @example\n\t * const fmSynth = new Tone.FMSynth().toDestination();\n\t * fmSynth.volume.value = -6;\n\t * fmSynth.sync();\n\t * // schedule 3 notes when the transport first starts\n\t * fmSynth.triggerAttackRelease(\"C4\", \"8n\", 0);\n\t * fmSynth.triggerAttackRelease(\"E4\", \"8n\", \"8n\");\n\t * fmSynth.triggerAttackRelease(\"G4\", \"8n\", \"4n\");\n\t * // start the transport to hear the notes\n\t * Tone.Transport.start();\n\t */\n\tsync(): this {\n\t\tif (this._syncState()) {\n\t\t\tthis._syncMethod(\"triggerAttack\", 1);\n\t\t\tthis._syncMethod(\"triggerRelease\", 0);\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * set _sync\n\t */\n\tprotected _syncState(): boolean {\n\t\tlet changed = false;\n\t\tif (!this._synced) {\n\t\t\tthis._synced = true;\n\t\t\tchanged = true;\n\t\t}\n\t\treturn changed;\n\t}\n\n\t/**\n\t * Wrap the given method so that it can be synchronized\n\t * @param method Which method to wrap and sync\n\t * @param  timePosition What position the time argument appears in\n\t */\n\tprotected _syncMethod(method: string, timePosition: number): void {\n\t\tconst originalMethod = this[\"_original_\" + method] = this[method];\n\t\tthis[method] = (...args: any[]) => {\n\t\t\tconst time = args[timePosition];\n\t\t\tconst id = this.context.transport.schedule((t) => {\n\t\t\t\targs[timePosition] = t;\n\t\t\t\toriginalMethod.apply(this, args);\n\t\t\t}, time);\n\t\t\tthis._scheduledEvents.push(id);\n\t\t};\n\t}\n\n\t/**\n\t * Unsync the instrument from the Transport\n\t */\n\tunsync(): this {\n\t\tthis._scheduledEvents.forEach(id => this.context.transport.clear(id));\n\t\tthis._scheduledEvents = [];\n\t\tif (this._synced) {\n\t\t\tthis._synced = false;\n\t\t\tthis.triggerAttack = this._original_triggerAttack;\n\t\t\tthis.triggerRelease = this._original_triggerRelease;\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Trigger the attack and then the release after the duration.\n\t * @param  note     The note to trigger.\n\t * @param  duration How long the note should be held for before\n\t *                         triggering the release. This value must be greater than 0.\n\t * @param time  When the note should be triggered.\n\t * @param  velocity The velocity the note should be triggered at.\n\t * @example\n\t * const synth = new Tone.Synth().toDestination();\n\t * // trigger \"C4\" for the duration of an 8th note\n\t * synth.triggerAttackRelease(\"C4\", \"8n\");\n\t */\n\ttriggerAttackRelease(note: Frequency, duration: Time, time?: Time, velocity?: NormalRange): this {\n\t\tconst computedTime = this.toSeconds(time);\n\t\tconst computedDuration = this.toSeconds(duration);\n\t\tthis.triggerAttack(note, computedTime, velocity);\n\t\tthis.triggerRelease(computedTime + computedDuration);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Start the instrument's note.\n\t * @param note the note to trigger\n\t * @param time the time to trigger the ntoe\n\t * @param velocity the velocity to trigger the note (betwee 0-1)\n\t */\n\tabstract triggerAttack(note: Frequency, time?: Time, velocity?: NormalRange): this;\n\tprivate _original_triggerAttack = this.triggerAttack;\n\n\t/**\n\t * Trigger the release phase of the current note.\n\t * @param time when to trigger the release\n\t */\n\tabstract triggerRelease(...args: any[]): this;\n\tprivate _original_triggerRelease = this.triggerRelease;\n\n\t/**\n\t * clean up\n\t * @returns {Instrument} this\n\t */\n\tdispose(): this {\n\t\tsuper.dispose();\n\t\tthis._volume.dispose();\n\t\tthis.unsync();\n\t\tthis._scheduledEvents = [];\n\t\treturn this;\n\t}\n}\n"},"lineCount":null}},"error":null,"hash":"ea8d08e949a8155abb248613a8fc4d08","cacheData":{"env":{}}}