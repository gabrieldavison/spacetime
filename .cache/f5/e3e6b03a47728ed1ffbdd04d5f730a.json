{"id":"DrAD","dependencies":[{"name":"/home/gabriel/Coding/spacetime/package.json","includedInParent":true,"mtime":1603381067034},{"name":"./utils/validate","loc":{"line":1,"column":25},"parent":"/home/gabriel/Coding/spacetime/src/js/ui.js","resolved":"/home/gabriel/Coding/spacetime/src/js/utils/validate.js"},{"name":"lodash","loc":{"line":2,"column":24},"parent":"/home/gabriel/Coding/spacetime/src/js/ui.js","resolved":"/home/gabriel/Coding/spacetime/node_modules/lodash/lodash.js"},{"name":"./colors","loc":{"line":3,"column":23},"parent":"/home/gabriel/Coding/spacetime/src/js/ui.js","resolved":"/home/gabriel/Coding/spacetime/src/js/colors.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"./utils/validate\"),e=require(\"lodash\"),s=require(\"./colors\");class i{constructor(t){this.sequencerState=t,this.canvas=document.getElementById(\"canvas\"),this.ctx=this.canvas.getContext(\"2d\"),this.modal=document.getElementById(\"configure-modal\"),this.modalVisible=!1,this.errorDisplay=document.getElementById(\"error-display\"),this.action=[\"+\",\"-\",\"<\",\">\",\"*\",\"f\",\"s\",\"#\",\"_\",\"=\"],this.widthUnit=this.canvas.width/10,this.heightUnit=this.canvas.height/10,this.textSpacing=(this.canvas.width-2*this.widthUnit)/16,this.font=\"30px IBM Plex Mono\",this.configErrors=void 0}handleKeydown(t){if([\"ArrowLeft\",\"ArrowRight\",\"ArrowUp\",\"ArrowDown\",\" \",\"1\",\"2\",\"3\",\"4\",\"c\"].includes(t.key)&&!1===this.modalVisible)switch(t.preventDefault(),t.key){case\"ArrowLeft\":0===this.sequencerState.editPosition?this.sequencerState.editPosition=this.sequencerState.pattern.length-1:this.sequencerState.editPosition-=1,this.draw();break;case\"ArrowRight\":this.sequencerState.editPosition===this.sequencerState.pattern.length-1?this.sequencerState.editPosition=0:this.sequencerState.editPosition+=1,this.draw();break;case\"ArrowUp\":this.sequencerState.pattern[this.sequencerState.editPosition]===this.action.length-1?this.sequencerState.pattern[this.sequencerState.editPosition]=0:this.sequencerState.pattern[this.sequencerState.editPosition]+=1,this.draw();break;case\"ArrowDown\":0===this.sequencerState.pattern[this.sequencerState.editPosition]?this.sequencerState.pattern[this.sequencerState.editPosition]=this.action.length-1:this.sequencerState.pattern[this.sequencerState.editPosition]-=1,this.draw();break;case\" \":this.sequencerState.playing=!this.sequencerState.playing,this.draw();break;case\"1\":this.sequencerState.selectedSequencer=1,this.draw(),console.log(\"1\");break;case\"2\":this.sequencerState.selectedSequencer=2,this.draw();break;case\"3\":this.sequencerState.selectedSequencer=3,this.draw();break;case\"4\":this.sequencerState.selectedSequencer=4,this.draw()}\"Escape\"===t.key&&this.toggleModal()}draw(){this.clear(),this.drawSequencer(),this.drawSequencerIndicator(),this.drawCurrentNote(),this.drawPlaying()}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawSequencer(){let t=this.widthUnit;const e=this.canvas.height/1.5;for(let i=0;i<16;i++){if(this.ctx.font=this.font,this.ctx.fillStyle=s.colors.dark,i===this.sequencerState.editPosition&&(this.ctx.fillStyle=s.colors.accent),this.ctx.fillText(this.action[this.sequencerState.pattern[i]],t,e),i===this.sequencerState.playPosition){const r=this.ctx.measureText(this.sequencerState.pattern[i]).width;this.ctx.fillStyle=s.colors.dark,this.ctx.fillRect(t,e-(r-30),r,3)}t+=this.textSpacing}}drawSequencerIndicator(){let t=this.widthUnit,e=2*this.heightUnit;for(let i=1;i<=4;i++)this.ctx.fillStyle=s.colors.dark,i===this.sequencerState.selectedSequencer&&(this.ctx.fillStyle=s.colors.accent),this.ctx.fillText(i,t,e),t+=this.textSpacing}drawCurrentNote(){let t=this.widthUnit,e=3.5*this.heightUnit;this.ctx.fillStyle=s.colors.dark,this.ctx.fillText(this.sequencerState.currentNote,t,e)}drawPlaying(){let t=this.widthUnit-4,e=5*this.heightUnit;this.ctx.fillStyle=s.colors.dark,this.sequencerState.playing?this.ctx.fillText(\"►\",t,e):this.ctx.fillText(\"⏸\",t,e)}toggleModal(){0===this.errorDisplay.childNodes.length&&(this.modal.classList.toggle(\"hidden\"),this.modal.classList.toggle(\"visible\"),this.canvas.classList.toggle(\"dimmed\")),this.modalVisible=!this.modalVisible}printConfig(){return`\\n      {\\n        \"notes\": \"${this.sequencerState.notes}\",\\n        \"octaveLow\": ${this.sequencerState.octaveLow},\\n        \"octaveHigh\": ${this.sequencerState.octaveHigh},\\n        \"speedSlow\": ${this.sequencerState.speedSlow},\\n        \"speedFast\": ${this.sequencerState.speedFast}\\n      }\\n    `}parseConfig(s){try{const r=JSON.parse(s);r.notes=r.notes.split(\",\"),console.log(r);const a=(0,t.validate)(r);this.displayErrors(a),(0,e.isEmpty)(a)&&this.sequencerState.loadConfig(r)}catch(i){console.log(\"parse error\"),this.displayErrors([i])}}displayErrors(t){let s=\"\";(0,e.isEmpty)(t)?this.errorDisplay.innerHTML=\"\":(s=t.reduce((t,e)=>t+`<li>${e}</li>`,\"\"),this.errorDisplay.innerHTML=s)}}exports.default=i;"},"sourceMaps":{"js":{"mappings":[{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":0}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":13}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":20}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":35}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":43}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":56}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":57}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":64}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":68}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":76}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":89}},{"source":"js/ui.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"js/ui.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"js/ui.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"js/ui.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"js/ui.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"js/ui.js","original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"js/ui.js","original":{"line":2,"column":0},"generated":{"line":1,"column":135}},{"source":"js/ui.js","original":{"line":3,"column":0},"generated":{"line":1,"column":145}},{"source":"js/ui.js","original":{"line":3,"column":0},"generated":{"line":1,"column":147}},{"source":"js/ui.js","original":{"line":3,"column":0},"generated":{"line":1,"column":155}},{"source":"js/ui.js","original":{"line":5,"column":15},"generated":{"line":1,"column":167}},{"source":"js/ui.js","name":"UI","original":{"line":5,"column":21},"generated":{"line":1,"column":173}},{"source":"js/ui.js","name":"constructor","original":{"line":6,"column":2},"generated":{"line":1,"column":175}},{"source":"js/ui.js","name":"sequencerState","original":{"line":6,"column":14},"generated":{"line":1,"column":187}},{"source":"js/ui.js","name":"sequencerState","original":{"line":7,"column":9},"generated":{"line":1,"column":190}},{"source":"js/ui.js","name":"sequencerState","original":{"line":7,"column":9},"generated":{"line":1,"column":195}},{"source":"js/ui.js","name":"sequencerState","original":{"line":7,"column":26},"generated":{"line":1,"column":210}},{"source":"js/ui.js","name":"canvas","original":{"line":8,"column":9},"generated":{"line":1,"column":212}},{"source":"js/ui.js","name":"canvas","original":{"line":8,"column":9},"generated":{"line":1,"column":217}},{"source":"js/ui.js","name":"document","original":{"line":8,"column":18},"generated":{"line":1,"column":224}},{"source":"js/ui.js","name":"getElementById","original":{"line":8,"column":27},"generated":{"line":1,"column":233}},{"source":"js/ui.js","original":{"line":8,"column":42},"generated":{"line":1,"column":248}},{"source":"js/ui.js","name":"ctx","original":{"line":9,"column":9},"generated":{"line":1,"column":258}},{"source":"js/ui.js","name":"ctx","original":{"line":9,"column":9},"generated":{"line":1,"column":263}},{"source":"js/ui.js","original":{"line":9,"column":15},"generated":{"line":1,"column":267}},{"source":"js/ui.js","name":"canvas","original":{"line":9,"column":20},"generated":{"line":1,"column":272}},{"source":"js/ui.js","name":"getContext","original":{"line":9,"column":27},"generated":{"line":1,"column":279}},{"source":"js/ui.js","original":{"line":9,"column":38},"generated":{"line":1,"column":290}},{"source":"js/ui.js","name":"modal","original":{"line":10,"column":9},"generated":{"line":1,"column":296}},{"source":"js/ui.js","name":"modal","original":{"line":10,"column":9},"generated":{"line":1,"column":301}},{"source":"js/ui.js","name":"document","original":{"line":10,"column":17},"generated":{"line":1,"column":307}},{"source":"js/ui.js","name":"getElementById","original":{"line":10,"column":26},"generated":{"line":1,"column":316}},{"source":"js/ui.js","original":{"line":10,"column":41},"generated":{"line":1,"column":331}},{"source":"js/ui.js","name":"modalVisible","original":{"line":11,"column":9},"generated":{"line":1,"column":350}},{"source":"js/ui.js","name":"modalVisible","original":{"line":11,"column":9},"generated":{"line":1,"column":355}},{"source":"js/ui.js","original":{"line":11,"column":24},"generated":{"line":1,"column":369}},{"source":"js/ui.js","name":"errorDisplay","original":{"line":12,"column":9},"generated":{"line":1,"column":371}},{"source":"js/ui.js","name":"errorDisplay","original":{"line":12,"column":9},"generated":{"line":1,"column":376}},{"source":"js/ui.js","name":"document","original":{"line":12,"column":24},"generated":{"line":1,"column":389}},{"source":"js/ui.js","name":"getElementById","original":{"line":12,"column":33},"generated":{"line":1,"column":398}},{"source":"js/ui.js","original":{"line":12,"column":48},"generated":{"line":1,"column":413}},{"source":"js/ui.js","name":"action","original":{"line":13,"column":9},"generated":{"line":1,"column":430}},{"source":"js/ui.js","name":"action","original":{"line":13,"column":9},"generated":{"line":1,"column":435}},{"source":"js/ui.js","original":{"line":13,"column":18},"generated":{"line":1,"column":442}},{"source":"js/ui.js","original":{"line":13,"column":19},"generated":{"line":1,"column":443}},{"source":"js/ui.js","original":{"line":13,"column":24},"generated":{"line":1,"column":447}},{"source":"js/ui.js","original":{"line":13,"column":29},"generated":{"line":1,"column":451}},{"source":"js/ui.js","original":{"line":13,"column":34},"generated":{"line":1,"column":455}},{"source":"js/ui.js","original":{"line":13,"column":39},"generated":{"line":1,"column":459}},{"source":"js/ui.js","original":{"line":13,"column":44},"generated":{"line":1,"column":463}},{"source":"js/ui.js","original":{"line":13,"column":49},"generated":{"line":1,"column":467}},{"source":"js/ui.js","original":{"line":13,"column":54},"generated":{"line":1,"column":471}},{"source":"js/ui.js","original":{"line":13,"column":59},"generated":{"line":1,"column":475}},{"source":"js/ui.js","original":{"line":13,"column":64},"generated":{"line":1,"column":479}},{"source":"js/ui.js","name":"widthUnit","original":{"line":14,"column":9},"generated":{"line":1,"column":484}},{"source":"js/ui.js","name":"widthUnit","original":{"line":14,"column":9},"generated":{"line":1,"column":489}},{"source":"js/ui.js","original":{"line":14,"column":21},"generated":{"line":1,"column":499}},{"source":"js/ui.js","name":"canvas","original":{"line":14,"column":26},"generated":{"line":1,"column":504}},{"source":"js/ui.js","name":"width","original":{"line":14,"column":33},"generated":{"line":1,"column":511}},{"source":"js/ui.js","original":{"line":14,"column":41},"generated":{"line":1,"column":517}},{"source":"js/ui.js","name":"heightUnit","original":{"line":15,"column":9},"generated":{"line":1,"column":520}},{"source":"js/ui.js","name":"heightUnit","original":{"line":15,"column":9},"generated":{"line":1,"column":525}},{"source":"js/ui.js","original":{"line":15,"column":22},"generated":{"line":1,"column":536}},{"source":"js/ui.js","name":"canvas","original":{"line":15,"column":27},"generated":{"line":1,"column":541}},{"source":"js/ui.js","name":"height","original":{"line":15,"column":34},"generated":{"line":1,"column":548}},{"source":"js/ui.js","original":{"line":15,"column":43},"generated":{"line":1,"column":555}},{"source":"js/ui.js","name":"textSpacing","original":{"line":16,"column":9},"generated":{"line":1,"column":558}},{"source":"js/ui.js","name":"textSpacing","original":{"line":16,"column":9},"generated":{"line":1,"column":563}},{"source":"js/ui.js","original":{"line":16,"column":24},"generated":{"line":1,"column":576}},{"source":"js/ui.js","name":"canvas","original":{"line":16,"column":29},"generated":{"line":1,"column":581}},{"source":"js/ui.js","name":"width","original":{"line":16,"column":36},"generated":{"line":1,"column":588}},{"source":"js/ui.js","original":{"line":16,"column":61},"generated":{"line":1,"column":594}},{"source":"js/ui.js","original":{"line":16,"column":44},"generated":{"line":1,"column":596}},{"source":"js/ui.js","name":"widthUnit","original":{"line":16,"column":49},"generated":{"line":1,"column":601}},{"source":"js/ui.js","original":{"line":16,"column":66},"generated":{"line":1,"column":612}},{"source":"js/ui.js","name":"font","original":{"line":17,"column":9},"generated":{"line":1,"column":615}},{"source":"js/ui.js","name":"font","original":{"line":17,"column":9},"generated":{"line":1,"column":620}},{"source":"js/ui.js","original":{"line":17,"column":16},"generated":{"line":1,"column":625}},{"source":"js/ui.js","name":"configErrors","original":{"line":18,"column":9},"generated":{"line":1,"column":646}},{"source":"js/ui.js","name":"configErrors","original":{"line":18,"column":9},"generated":{"line":1,"column":651}},{"source":"js/ui.js","name":"undefined","original":{"line":18,"column":24},"generated":{"line":1,"column":669}},{"source":"js/ui.js","name":"handleKeydown","original":{"line":21,"column":2},"generated":{"line":1,"column":671}},{"source":"js/ui.js","name":"e","original":{"line":21,"column":16},"generated":{"line":1,"column":685}},{"source":"js/ui.js","name":"usedKeys","original":{"line":34,"column":8},"generated":{"line":1,"column":688}},{"source":"js/ui.js","original":{"line":22,"column":21},"generated":{"line":1,"column":691}},{"source":"js/ui.js","original":{"line":23,"column":6},"generated":{"line":1,"column":692}},{"source":"js/ui.js","original":{"line":24,"column":6},"generated":{"line":1,"column":704}},{"source":"js/ui.js","original":{"line":25,"column":6},"generated":{"line":1,"column":717}},{"source":"js/ui.js","original":{"line":26,"column":6},"generated":{"line":1,"column":727}},{"source":"js/ui.js","original":{"line":27,"column":6},"generated":{"line":1,"column":739}},{"source":"js/ui.js","original":{"line":28,"column":6},"generated":{"line":1,"column":743}},{"source":"js/ui.js","original":{"line":29,"column":6},"generated":{"line":1,"column":747}},{"source":"js/ui.js","original":{"line":30,"column":6},"generated":{"line":1,"column":751}},{"source":"js/ui.js","original":{"line":31,"column":6},"generated":{"line":1,"column":755}},{"source":"js/ui.js","original":{"line":32,"column":6},"generated":{"line":1,"column":759}},{"source":"js/ui.js","name":"includes","original":{"line":34,"column":17},"generated":{"line":1,"column":764}},{"source":"js/ui.js","name":"e","original":{"line":34,"column":26},"generated":{"line":1,"column":773}},{"source":"js/ui.js","name":"key","original":{"line":34,"column":28},"generated":{"line":1,"column":775}},{"source":"js/ui.js","original":{"line":34,"column":58},"generated":{"line":1,"column":782}},{"source":"js/ui.js","original":{"line":34,"column":36},"generated":{"line":1,"column":786}},{"source":"js/ui.js","name":"modalVisible","original":{"line":34,"column":41},"generated":{"line":1,"column":791}},{"source":"js/ui.js","name":"e","original":{"line":36,"column":14},"generated":{"line":1,"column":804}},{"source":"js/ui.js","name":"e","original":{"line":35,"column":6},"generated":{"line":1,"column":811}},{"source":"js/ui.js","name":"preventDefault","original":{"line":35,"column":8},"generated":{"line":1,"column":813}},{"source":"js/ui.js","name":"e","original":{"line":36,"column":14},"generated":{"line":1,"column":830}},{"source":"js/ui.js","name":"key","original":{"line":36,"column":16},"generated":{"line":1,"column":832}},{"source":"js/ui.js","original":{"line":37,"column":13},"generated":{"line":1,"column":837}},{"source":"js/ui.js","original":{"line":37,"column":13},"generated":{"line":1,"column":841}},{"source":"js/ui.js","original":{"line":38,"column":47},"generated":{"line":1,"column":853}},{"source":"js/ui.js","name":"sequencerState","original":{"line":38,"column":15},"generated":{"line":1,"column":857}},{"source":"js/ui.js","name":"sequencerState","original":{"line":38,"column":15},"generated":{"line":1,"column":862}},{"source":"js/ui.js","name":"editPosition","original":{"line":38,"column":30},"generated":{"line":1,"column":877}},{"source":"js/ui.js","original":{"line":39,"column":15},"generated":{"line":1,"column":890}},{"source":"js/ui.js","name":"sequencerState","original":{"line":39,"column":20},"generated":{"line":1,"column":895}},{"source":"js/ui.js","name":"editPosition","original":{"line":39,"column":35},"generated":{"line":1,"column":910}},{"source":"js/ui.js","original":{"line":40,"column":16},"generated":{"line":1,"column":923}},{"source":"js/ui.js","name":"sequencerState","original":{"line":40,"column":21},"generated":{"line":1,"column":928}},{"source":"js/ui.js","name":"pattern","original":{"line":40,"column":36},"generated":{"line":1,"column":943}},{"source":"js/ui.js","name":"length","original":{"line":40,"column":44},"generated":{"line":1,"column":951}},{"source":"js/ui.js","original":{"line":40,"column":53},"generated":{"line":1,"column":958}},{"source":"js/ui.js","original":{"line":41,"column":15},"generated":{"line":1,"column":960}},{"source":"js/ui.js","name":"sequencerState","original":{"line":41,"column":20},"generated":{"line":1,"column":965}},{"source":"js/ui.js","name":"editPosition","original":{"line":41,"column":35},"generated":{"line":1,"column":980}},{"source":"js/ui.js","original":{"line":41,"column":51},"generated":{"line":1,"column":994}},{"source":"js/ui.js","name":"draw","original":{"line":42,"column":15},"generated":{"line":1,"column":996}},{"source":"js/ui.js","name":"draw","original":{"line":42,"column":15},"generated":{"line":1,"column":1001}},{"source":"js/ui.js","original":{"line":43,"column":10},"generated":{"line":1,"column":1008}},{"source":"js/ui.js","original":{"line":44,"column":13},"generated":{"line":1,"column":1014}},{"source":"js/ui.js","original":{"line":44,"column":13},"generated":{"line":1,"column":1018}},{"source":"js/ui.js","name":"sequencerState","original":{"line":45,"column":15},"generated":{"line":1,"column":1031}},{"source":"js/ui.js","name":"sequencerState","original":{"line":45,"column":15},"generated":{"line":1,"column":1036}},{"source":"js/ui.js","name":"editPosition","original":{"line":45,"column":30},"generated":{"line":1,"column":1051}},{"source":"js/ui.js","original":{"line":46,"column":10},"generated":{"line":1,"column":1066}},{"source":"js/ui.js","name":"sequencerState","original":{"line":46,"column":15},"generated":{"line":1,"column":1071}},{"source":"js/ui.js","name":"pattern","original":{"line":46,"column":30},"generated":{"line":1,"column":1086}},{"source":"js/ui.js","name":"length","original":{"line":46,"column":38},"generated":{"line":1,"column":1094}},{"source":"js/ui.js","original":{"line":46,"column":47},"generated":{"line":1,"column":1101}},{"source":"js/ui.js","original":{"line":47,"column":15},"generated":{"line":1,"column":1103}},{"source":"js/ui.js","name":"sequencerState","original":{"line":47,"column":20},"generated":{"line":1,"column":1108}},{"source":"js/ui.js","name":"editPosition","original":{"line":47,"column":35},"generated":{"line":1,"column":1123}},{"source":"js/ui.js","original":{"line":47,"column":50},"generated":{"line":1,"column":1136}},{"source":"js/ui.js","original":{"line":48,"column":15},"generated":{"line":1,"column":1138}},{"source":"js/ui.js","name":"sequencerState","original":{"line":48,"column":20},"generated":{"line":1,"column":1143}},{"source":"js/ui.js","name":"editPosition","original":{"line":48,"column":35},"generated":{"line":1,"column":1158}},{"source":"js/ui.js","original":{"line":48,"column":51},"generated":{"line":1,"column":1172}},{"source":"js/ui.js","name":"draw","original":{"line":49,"column":15},"generated":{"line":1,"column":1174}},{"source":"js/ui.js","name":"draw","original":{"line":49,"column":15},"generated":{"line":1,"column":1179}},{"source":"js/ui.js","original":{"line":50,"column":10},"generated":{"line":1,"column":1186}},{"source":"js/ui.js","original":{"line":51,"column":13},"generated":{"line":1,"column":1192}},{"source":"js/ui.js","original":{"line":51,"column":13},"generated":{"line":1,"column":1196}},{"source":"js/ui.js","name":"sequencerState","original":{"line":52,"column":15},"generated":{"line":1,"column":1206}},{"source":"js/ui.js","name":"sequencerState","original":{"line":52,"column":15},"generated":{"line":1,"column":1211}},{"source":"js/ui.js","name":"pattern","original":{"line":52,"column":30},"generated":{"line":1,"column":1226}},{"source":"js/ui.js","original":{"line":52,"column":38},"generated":{"line":1,"column":1234}},{"source":"js/ui.js","name":"sequencerState","original":{"line":52,"column":43},"generated":{"line":1,"column":1239}},{"source":"js/ui.js","name":"editPosition","original":{"line":52,"column":58},"generated":{"line":1,"column":1254}},{"source":"js/ui.js","original":{"line":53,"column":10},"generated":{"line":1,"column":1270}},{"source":"js/ui.js","name":"action","original":{"line":53,"column":15},"generated":{"line":1,"column":1275}},{"source":"js/ui.js","name":"length","original":{"line":53,"column":22},"generated":{"line":1,"column":1282}},{"source":"js/ui.js","original":{"line":53,"column":31},"generated":{"line":1,"column":1289}},{"source":"js/ui.js","original":{"line":54,"column":15},"generated":{"line":1,"column":1291}},{"source":"js/ui.js","name":"sequencerState","original":{"line":54,"column":20},"generated":{"line":1,"column":1296}},{"source":"js/ui.js","name":"pattern","original":{"line":54,"column":35},"generated":{"line":1,"column":1311}},{"source":"js/ui.js","original":{"line":55,"column":16},"generated":{"line":1,"column":1319}},{"source":"js/ui.js","name":"sequencerState","original":{"line":55,"column":21},"generated":{"line":1,"column":1324}},{"source":"js/ui.js","name":"editPosition","original":{"line":55,"column":36},"generated":{"line":1,"column":1339}},{"source":"js/ui.js","original":{"line":56,"column":18},"generated":{"line":1,"column":1353}},{"source":"js/ui.js","original":{"line":57,"column":15},"generated":{"line":1,"column":1355}},{"source":"js/ui.js","name":"sequencerState","original":{"line":57,"column":20},"generated":{"line":1,"column":1360}},{"source":"js/ui.js","name":"pattern","original":{"line":57,"column":35},"generated":{"line":1,"column":1375}},{"source":"js/ui.js","original":{"line":58,"column":16},"generated":{"line":1,"column":1383}},{"source":"js/ui.js","name":"sequencerState","original":{"line":58,"column":21},"generated":{"line":1,"column":1388}},{"source":"js/ui.js","name":"editPosition","original":{"line":58,"column":36},"generated":{"line":1,"column":1403}},{"source":"js/ui.js","original":{"line":59,"column":19},"generated":{"line":1,"column":1418}},{"source":"js/ui.js","name":"draw","original":{"line":60,"column":15},"generated":{"line":1,"column":1420}},{"source":"js/ui.js","name":"draw","original":{"line":60,"column":15},"generated":{"line":1,"column":1425}},{"source":"js/ui.js","original":{"line":61,"column":10},"generated":{"line":1,"column":1432}},{"source":"js/ui.js","original":{"line":62,"column":13},"generated":{"line":1,"column":1438}},{"source":"js/ui.js","original":{"line":62,"column":13},"generated":{"line":1,"column":1442}},{"source":"js/ui.js","original":{"line":63,"column":76},"generated":{"line":1,"column":1454}},{"source":"js/ui.js","name":"sequencerState","original":{"line":63,"column":15},"generated":{"line":1,"column":1458}},{"source":"js/ui.js","name":"sequencerState","original":{"line":63,"column":15},"generated":{"line":1,"column":1463}},{"source":"js/ui.js","name":"pattern","original":{"line":63,"column":30},"generated":{"line":1,"column":1478}},{"source":"js/ui.js","original":{"line":63,"column":38},"generated":{"line":1,"column":1486}},{"source":"js/ui.js","name":"sequencerState","original":{"line":63,"column":43},"generated":{"line":1,"column":1491}},{"source":"js/ui.js","name":"editPosition","original":{"line":63,"column":58},"generated":{"line":1,"column":1506}},{"source":"js/ui.js","original":{"line":64,"column":15},"generated":{"line":1,"column":1520}},{"source":"js/ui.js","name":"sequencerState","original":{"line":64,"column":20},"generated":{"line":1,"column":1525}},{"source":"js/ui.js","name":"pattern","original":{"line":64,"column":35},"generated":{"line":1,"column":1540}},{"source":"js/ui.js","original":{"line":64,"column":43},"generated":{"line":1,"column":1548}},{"source":"js/ui.js","name":"sequencerState","original":{"line":64,"column":48},"generated":{"line":1,"column":1553}},{"source":"js/ui.js","name":"editPosition","original":{"line":64,"column":63},"generated":{"line":1,"column":1568}},{"source":"js/ui.js","original":{"line":65,"column":16},"generated":{"line":1,"column":1582}},{"source":"js/ui.js","name":"action","original":{"line":65,"column":21},"generated":{"line":1,"column":1587}},{"source":"js/ui.js","name":"length","original":{"line":65,"column":28},"generated":{"line":1,"column":1594}},{"source":"js/ui.js","original":{"line":65,"column":37},"generated":{"line":1,"column":1601}},{"source":"js/ui.js","original":{"line":66,"column":15},"generated":{"line":1,"column":1603}},{"source":"js/ui.js","name":"sequencerState","original":{"line":66,"column":20},"generated":{"line":1,"column":1608}},{"source":"js/ui.js","name":"pattern","original":{"line":66,"column":35},"generated":{"line":1,"column":1623}},{"source":"js/ui.js","original":{"line":67,"column":16},"generated":{"line":1,"column":1631}},{"source":"js/ui.js","name":"sequencerState","original":{"line":67,"column":21},"generated":{"line":1,"column":1636}},{"source":"js/ui.js","name":"editPosition","original":{"line":67,"column":36},"generated":{"line":1,"column":1651}},{"source":"js/ui.js","original":{"line":68,"column":19},"generated":{"line":1,"column":1666}},{"source":"js/ui.js","name":"draw","original":{"line":69,"column":15},"generated":{"line":1,"column":1668}},{"source":"js/ui.js","name":"draw","original":{"line":69,"column":15},"generated":{"line":1,"column":1673}},{"source":"js/ui.js","original":{"line":70,"column":10},"generated":{"line":1,"column":1680}},{"source":"js/ui.js","original":{"line":71,"column":13},"generated":{"line":1,"column":1686}},{"source":"js/ui.js","original":{"line":71,"column":13},"generated":{"line":1,"column":1690}},{"source":"js/ui.js","name":"sequencerState","original":{"line":72,"column":15},"generated":{"line":1,"column":1694}},{"source":"js/ui.js","name":"sequencerState","original":{"line":72,"column":15},"generated":{"line":1,"column":1699}},{"source":"js/ui.js","name":"playing","original":{"line":72,"column":30},"generated":{"line":1,"column":1714}},{"source":"js/ui.js","original":{"line":72,"column":41},"generated":{"line":1,"column":1723}},{"source":"js/ui.js","name":"sequencerState","original":{"line":72,"column":46},"generated":{"line":1,"column":1728}},{"source":"js/ui.js","name":"playing","original":{"line":72,"column":61},"generated":{"line":1,"column":1743}},{"source":"js/ui.js","name":"draw","original":{"line":73,"column":15},"generated":{"line":1,"column":1751}},{"source":"js/ui.js","name":"draw","original":{"line":73,"column":15},"generated":{"line":1,"column":1756}},{"source":"js/ui.js","original":{"line":74,"column":10},"generated":{"line":1,"column":1763}},{"source":"js/ui.js","original":{"line":75,"column":13},"generated":{"line":1,"column":1769}},{"source":"js/ui.js","original":{"line":75,"column":13},"generated":{"line":1,"column":1773}},{"source":"js/ui.js","name":"sequencerState","original":{"line":76,"column":15},"generated":{"line":1,"column":1777}},{"source":"js/ui.js","name":"sequencerState","original":{"line":76,"column":15},"generated":{"line":1,"column":1782}},{"source":"js/ui.js","name":"selectedSequencer","original":{"line":76,"column":30},"generated":{"line":1,"column":1797}},{"source":"js/ui.js","original":{"line":76,"column":50},"generated":{"line":1,"column":1815}},{"source":"js/ui.js","name":"draw","original":{"line":77,"column":15},"generated":{"line":1,"column":1817}},{"source":"js/ui.js","name":"draw","original":{"line":77,"column":15},"generated":{"line":1,"column":1822}},{"source":"js/ui.js","name":"console","original":{"line":78,"column":10},"generated":{"line":1,"column":1829}},{"source":"js/ui.js","name":"log","original":{"line":78,"column":18},"generated":{"line":1,"column":1837}},{"source":"js/ui.js","original":{"line":78,"column":22},"generated":{"line":1,"column":1841}},{"source":"js/ui.js","original":{"line":79,"column":10},"generated":{"line":1,"column":1846}},{"source":"js/ui.js","original":{"line":80,"column":13},"generated":{"line":1,"column":1852}},{"source":"js/ui.js","original":{"line":80,"column":13},"generated":{"line":1,"column":1856}},{"source":"js/ui.js","name":"sequencerState","original":{"line":81,"column":15},"generated":{"line":1,"column":1860}},{"source":"js/ui.js","name":"sequencerState","original":{"line":81,"column":15},"generated":{"line":1,"column":1865}},{"source":"js/ui.js","name":"selectedSequencer","original":{"line":81,"column":30},"generated":{"line":1,"column":1880}},{"source":"js/ui.js","original":{"line":81,"column":50},"generated":{"line":1,"column":1898}},{"source":"js/ui.js","name":"draw","original":{"line":82,"column":15},"generated":{"line":1,"column":1900}},{"source":"js/ui.js","name":"draw","original":{"line":82,"column":15},"generated":{"line":1,"column":1905}},{"source":"js/ui.js","original":{"line":83,"column":10},"generated":{"line":1,"column":1912}},{"source":"js/ui.js","original":{"line":84,"column":13},"generated":{"line":1,"column":1918}},{"source":"js/ui.js","original":{"line":84,"column":13},"generated":{"line":1,"column":1922}},{"source":"js/ui.js","name":"sequencerState","original":{"line":85,"column":15},"generated":{"line":1,"column":1926}},{"source":"js/ui.js","name":"sequencerState","original":{"line":85,"column":15},"generated":{"line":1,"column":1931}},{"source":"js/ui.js","name":"selectedSequencer","original":{"line":85,"column":30},"generated":{"line":1,"column":1946}},{"source":"js/ui.js","original":{"line":85,"column":50},"generated":{"line":1,"column":1964}},{"source":"js/ui.js","name":"draw","original":{"line":86,"column":15},"generated":{"line":1,"column":1966}},{"source":"js/ui.js","name":"draw","original":{"line":86,"column":15},"generated":{"line":1,"column":1971}},{"source":"js/ui.js","original":{"line":87,"column":10},"generated":{"line":1,"column":1978}},{"source":"js/ui.js","original":{"line":88,"column":13},"generated":{"line":1,"column":1984}},{"source":"js/ui.js","original":{"line":88,"column":13},"generated":{"line":1,"column":1988}},{"source":"js/ui.js","name":"sequencerState","original":{"line":89,"column":15},"generated":{"line":1,"column":1992}},{"source":"js/ui.js","name":"sequencerState","original":{"line":89,"column":15},"generated":{"line":1,"column":1997}},{"source":"js/ui.js","name":"selectedSequencer","original":{"line":89,"column":30},"generated":{"line":1,"column":2012}},{"source":"js/ui.js","original":{"line":89,"column":50},"generated":{"line":1,"column":2030}},{"source":"js/ui.js","name":"draw","original":{"line":90,"column":15},"generated":{"line":1,"column":2032}},{"source":"js/ui.js","name":"draw","original":{"line":90,"column":15},"generated":{"line":1,"column":2037}},{"source":"js/ui.js","original":{"line":94,"column":18},"generated":{"line":1,"column":2044}},{"source":"js/ui.js","name":"e","original":{"line":94,"column":8},"generated":{"line":1,"column":2055}},{"source":"js/ui.js","name":"key","original":{"line":94,"column":10},"generated":{"line":1,"column":2057}},{"source":"js/ui.js","name":"toggleModal","original":{"line":95,"column":11},"generated":{"line":1,"column":2062}},{"source":"js/ui.js","name":"toggleModal","original":{"line":95,"column":11},"generated":{"line":1,"column":2067}},{"source":"js/ui.js","name":"draw","original":{"line":99,"column":2},"generated":{"line":1,"column":2081}},{"source":"js/ui.js","name":"clear","original":{"line":100,"column":9},"generated":{"line":1,"column":2088}},{"source":"js/ui.js","name":"clear","original":{"line":100,"column":9},"generated":{"line":1,"column":2093}},{"source":"js/ui.js","name":"drawSequencer","original":{"line":101,"column":9},"generated":{"line":1,"column":2101}},{"source":"js/ui.js","name":"drawSequencer","original":{"line":101,"column":9},"generated":{"line":1,"column":2106}},{"source":"js/ui.js","name":"drawSequencerIndicator","original":{"line":102,"column":9},"generated":{"line":1,"column":2122}},{"source":"js/ui.js","name":"drawSequencerIndicator","original":{"line":102,"column":9},"generated":{"line":1,"column":2127}},{"source":"js/ui.js","name":"drawCurrentNote","original":{"line":103,"column":9},"generated":{"line":1,"column":2152}},{"source":"js/ui.js","name":"drawCurrentNote","original":{"line":103,"column":9},"generated":{"line":1,"column":2157}},{"source":"js/ui.js","name":"drawPlaying","original":{"line":104,"column":9},"generated":{"line":1,"column":2175}},{"source":"js/ui.js","name":"drawPlaying","original":{"line":104,"column":9},"generated":{"line":1,"column":2180}},{"source":"js/ui.js","name":"clear","original":{"line":107,"column":2},"generated":{"line":1,"column":2194}},{"source":"js/ui.js","name":"ctx","original":{"line":108,"column":9},"generated":{"line":1,"column":2202}},{"source":"js/ui.js","name":"ctx","original":{"line":108,"column":9},"generated":{"line":1,"column":2207}},{"source":"js/ui.js","name":"clearRect","original":{"line":108,"column":13},"generated":{"line":1,"column":2211}},{"source":"js/ui.js","original":{"line":108,"column":23},"generated":{"line":1,"column":2221}},{"source":"js/ui.js","original":{"line":108,"column":26},"generated":{"line":1,"column":2223}},{"source":"js/ui.js","original":{"line":108,"column":29},"generated":{"line":1,"column":2225}},{"source":"js/ui.js","name":"canvas","original":{"line":108,"column":34},"generated":{"line":1,"column":2230}},{"source":"js/ui.js","name":"width","original":{"line":108,"column":41},"generated":{"line":1,"column":2237}},{"source":"js/ui.js","original":{"line":108,"column":48},"generated":{"line":1,"column":2243}},{"source":"js/ui.js","name":"canvas","original":{"line":108,"column":53},"generated":{"line":1,"column":2248}},{"source":"js/ui.js","name":"height","original":{"line":108,"column":60},"generated":{"line":1,"column":2255}},{"source":"js/ui.js","name":"drawSequencer","original":{"line":111,"column":2},"generated":{"line":1,"column":2263}},{"source":"js/ui.js","name":"x","original":{"line":112,"column":8},"generated":{"line":1,"column":2279}},{"source":"js/ui.js","name":"x","original":{"line":112,"column":8},"generated":{"line":1,"column":2283}},{"source":"js/ui.js","original":{"line":112,"column":12},"generated":{"line":1,"column":2285}},{"source":"js/ui.js","name":"widthUnit","original":{"line":112,"column":17},"generated":{"line":1,"column":2290}},{"source":"js/ui.js","name":"y","original":{"line":113,"column":10},"generated":{"line":1,"column":2300}},{"source":"js/ui.js","name":"y","original":{"line":113,"column":10},"generated":{"line":1,"column":2306}},{"source":"js/ui.js","original":{"line":113,"column":14},"generated":{"line":1,"column":2308}},{"source":"js/ui.js","name":"canvas","original":{"line":113,"column":19},"generated":{"line":1,"column":2313}},{"source":"js/ui.js","name":"height","original":{"line":113,"column":26},"generated":{"line":1,"column":2320}},{"source":"js/ui.js","original":{"line":113,"column":35},"generated":{"line":1,"column":2327}},{"source":"js/ui.js","original":{"line":115,"column":9},"generated":{"line":1,"column":2331}},{"source":"js/ui.js","original":{"line":115,"column":9},"generated":{"line":1,"column":2335}},{"source":"js/ui.js","name":"i","original":{"line":115,"column":13},"generated":{"line":1,"column":2339}},{"source":"js/ui.js","original":{"line":115,"column":17},"generated":{"line":1,"column":2341}},{"source":"js/ui.js","name":"i","original":{"line":115,"column":20},"generated":{"line":1,"column":2343}},{"source":"js/ui.js","original":{"line":115,"column":24},"generated":{"line":1,"column":2345}},{"source":"js/ui.js","name":"i","original":{"line":115,"column":28},"generated":{"line":1,"column":2348}},{"source":"js/ui.js","original":{"line":115,"column":33},"generated":{"line":1,"column":2352}},{"source":"js/ui.js","name":"i","original":{"line":123,"column":10},"generated":{"line":1,"column":2353}},{"source":"js/ui.js","name":"ctx","original":{"line":116,"column":11},"generated":{"line":1,"column":2356}},{"source":"js/ui.js","name":"ctx","original":{"line":116,"column":11},"generated":{"line":1,"column":2361}},{"source":"js/ui.js","name":"font","original":{"line":116,"column":15},"generated":{"line":1,"column":2365}},{"source":"js/ui.js","original":{"line":116,"column":22},"generated":{"line":1,"column":2370}},{"source":"js/ui.js","name":"font","original":{"line":116,"column":27},"generated":{"line":1,"column":2375}},{"source":"js/ui.js","name":"ctx","original":{"line":117,"column":11},"generated":{"line":1,"column":2380}},{"source":"js/ui.js","name":"ctx","original":{"line":117,"column":11},"generated":{"line":1,"column":2385}},{"source":"js/ui.js","name":"fillStyle","original":{"line":117,"column":15},"generated":{"line":1,"column":2389}},{"source":"js/ui.js","name":"colors","original":{"line":117,"column":27},"generated":{"line":1,"column":2399}},{"source":"js/ui.js","name":"dark","original":{"line":117,"column":34},"generated":{"line":1,"column":2401}},{"source":"js/ui.js","name":"dark","original":{"line":117,"column":34},"generated":{"line":1,"column":2408}},{"source":"js/ui.js","name":"i","original":{"line":118,"column":10},"generated":{"line":1,"column":2413}},{"source":"js/ui.js","original":{"line":118,"column":16},"generated":{"line":1,"column":2417}},{"source":"js/ui.js","name":"sequencerState","original":{"line":118,"column":21},"generated":{"line":1,"column":2422}},{"source":"js/ui.js","name":"editPosition","original":{"line":118,"column":36},"generated":{"line":1,"column":2437}},{"source":"js/ui.js","name":"ctx","original":{"line":119,"column":13},"generated":{"line":1,"column":2452}},{"source":"js/ui.js","name":"ctx","original":{"line":119,"column":13},"generated":{"line":1,"column":2457}},{"source":"js/ui.js","name":"fillStyle","original":{"line":119,"column":17},"generated":{"line":1,"column":2461}},{"source":"js/ui.js","name":"colors","original":{"line":119,"column":29},"generated":{"line":1,"column":2471}},{"source":"js/ui.js","name":"accent","original":{"line":119,"column":36},"generated":{"line":1,"column":2473}},{"source":"js/ui.js","name":"accent","original":{"line":119,"column":36},"generated":{"line":1,"column":2480}},{"source":"js/ui.js","name":"ctx","original":{"line":121,"column":11},"generated":{"line":1,"column":2488}},{"source":"js/ui.js","name":"ctx","original":{"line":121,"column":11},"generated":{"line":1,"column":2493}},{"source":"js/ui.js","name":"fillText","original":{"line":121,"column":15},"generated":{"line":1,"column":2497}},{"source":"js/ui.js","original":{"line":121,"column":24},"generated":{"line":1,"column":2506}},{"source":"js/ui.js","name":"action","original":{"line":121,"column":29},"generated":{"line":1,"column":2511}},{"source":"js/ui.js","original":{"line":121,"column":36},"generated":{"line":1,"column":2518}},{"source":"js/ui.js","name":"sequencerState","original":{"line":121,"column":41},"generated":{"line":1,"column":2523}},{"source":"js/ui.js","name":"pattern","original":{"line":121,"column":56},"generated":{"line":1,"column":2538}},{"source":"js/ui.js","name":"i","original":{"line":121,"column":64},"generated":{"line":1,"column":2546}},{"source":"js/ui.js","name":"x","original":{"line":121,"column":69},"generated":{"line":1,"column":2550}},{"source":"js/ui.js","name":"y","original":{"line":121,"column":72},"generated":{"line":1,"column":2552}},{"source":"js/ui.js","name":"i","original":{"line":123,"column":10},"generated":{"line":1,"column":2555}},{"source":"js/ui.js","original":{"line":123,"column":16},"generated":{"line":1,"column":2559}},{"source":"js/ui.js","name":"sequencerState","original":{"line":123,"column":21},"generated":{"line":1,"column":2564}},{"source":"js/ui.js","name":"playPosition","original":{"line":123,"column":36},"generated":{"line":1,"column":2579}},{"source":"js/ui.js","original":{"line":123,"column":50},"generated":{"line":1,"column":2592}},{"source":"js/ui.js","name":"rectangleWidth","original":{"line":124,"column":14},"generated":{"line":1,"column":2593}},{"source":"js/ui.js","name":"rectangleWidth","original":{"line":124,"column":14},"generated":{"line":1,"column":2599}},{"source":"js/ui.js","original":{"line":124,"column":31},"generated":{"line":1,"column":2601}},{"source":"js/ui.js","name":"ctx","original":{"line":124,"column":36},"generated":{"line":1,"column":2606}},{"source":"js/ui.js","name":"measureText","original":{"line":124,"column":40},"generated":{"line":1,"column":2610}},{"source":"js/ui.js","original":{"line":125,"column":10},"generated":{"line":1,"column":2622}},{"source":"js/ui.js","name":"sequencerState","original":{"line":125,"column":15},"generated":{"line":1,"column":2627}},{"source":"js/ui.js","name":"pattern","original":{"line":125,"column":30},"generated":{"line":1,"column":2642}},{"source":"js/ui.js","name":"i","original":{"line":125,"column":38},"generated":{"line":1,"column":2650}},{"source":"js/ui.js","name":"width","original":{"line":126,"column":10},"generated":{"line":1,"column":2654}},{"source":"js/ui.js","name":"ctx","original":{"line":127,"column":13},"generated":{"line":1,"column":2660}},{"source":"js/ui.js","name":"ctx","original":{"line":127,"column":13},"generated":{"line":1,"column":2665}},{"source":"js/ui.js","name":"fillStyle","original":{"line":127,"column":17},"generated":{"line":1,"column":2669}},{"source":"js/ui.js","name":"colors","original":{"line":127,"column":29},"generated":{"line":1,"column":2679}},{"source":"js/ui.js","name":"dark","original":{"line":127,"column":36},"generated":{"line":1,"column":2681}},{"source":"js/ui.js","name":"dark","original":{"line":127,"column":36},"generated":{"line":1,"column":2688}},{"source":"js/ui.js","name":"ctx","original":{"line":128,"column":13},"generated":{"line":1,"column":2693}},{"source":"js/ui.js","name":"ctx","original":{"line":128,"column":13},"generated":{"line":1,"column":2698}},{"source":"js/ui.js","name":"fillRect","original":{"line":128,"column":17},"generated":{"line":1,"column":2702}},{"source":"js/ui.js","name":"x","original":{"line":128,"column":26},"generated":{"line":1,"column":2711}},{"source":"js/ui.js","name":"y","original":{"line":128,"column":29},"generated":{"line":1,"column":2713}},{"source":"js/ui.js","name":"rectangleWidth","original":{"line":128,"column":34},"generated":{"line":1,"column":2716}},{"source":"js/ui.js","original":{"line":128,"column":51},"generated":{"line":1,"column":2718}},{"source":"js/ui.js","name":"rectangleWidth","original":{"line":128,"column":56},"generated":{"line":1,"column":2722}},{"source":"js/ui.js","original":{"line":128,"column":72},"generated":{"line":1,"column":2724}},{"source":"js/ui.js","name":"x","original":{"line":131,"column":6},"generated":{"line":1,"column":2727}},{"source":"js/ui.js","original":{"line":131,"column":11},"generated":{"line":1,"column":2730}},{"source":"js/ui.js","name":"textSpacing","original":{"line":131,"column":16},"generated":{"line":1,"column":2735}},{"source":"js/ui.js","name":"drawSequencerIndicator","original":{"line":135,"column":2},"generated":{"line":1,"column":2748}},{"source":"js/ui.js","name":"x","original":{"line":136,"column":8},"generated":{"line":1,"column":2773}},{"source":"js/ui.js","name":"x","original":{"line":136,"column":8},"generated":{"line":1,"column":2777}},{"source":"js/ui.js","original":{"line":136,"column":12},"generated":{"line":1,"column":2779}},{"source":"js/ui.js","name":"widthUnit","original":{"line":136,"column":17},"generated":{"line":1,"column":2784}},{"source":"js/ui.js","name":"y","original":{"line":137,"column":8},"generated":{"line":1,"column":2794}},{"source":"js/ui.js","original":{"line":137,"column":30},"generated":{"line":1,"column":2796}},{"source":"js/ui.js","original":{"line":137,"column":12},"generated":{"line":1,"column":2798}},{"source":"js/ui.js","name":"heightUnit","original":{"line":137,"column":17},"generated":{"line":1,"column":2803}},{"source":"js/ui.js","original":{"line":138,"column":9},"generated":{"line":1,"column":2814}},{"source":"js/ui.js","original":{"line":138,"column":9},"generated":{"line":1,"column":2818}},{"source":"js/ui.js","name":"i","original":{"line":138,"column":13},"generated":{"line":1,"column":2822}},{"source":"js/ui.js","original":{"line":138,"column":17},"generated":{"line":1,"column":2824}},{"source":"js/ui.js","name":"i","original":{"line":138,"column":20},"generated":{"line":1,"column":2826}},{"source":"js/ui.js","original":{"line":138,"column":25},"generated":{"line":1,"column":2829}},{"source":"js/ui.js","name":"i","original":{"line":138,"column":28},"generated":{"line":1,"column":2831}},{"source":"js/ui.js","name":"ctx","original":{"line":139,"column":11},"generated":{"line":1,"column":2835}},{"source":"js/ui.js","name":"ctx","original":{"line":139,"column":11},"generated":{"line":1,"column":2840}},{"source":"js/ui.js","name":"fillStyle","original":{"line":139,"column":15},"generated":{"line":1,"column":2844}},{"source":"js/ui.js","name":"colors","original":{"line":139,"column":27},"generated":{"line":1,"column":2854}},{"source":"js/ui.js","name":"dark","original":{"line":139,"column":34},"generated":{"line":1,"column":2856}},{"source":"js/ui.js","name":"dark","original":{"line":139,"column":34},"generated":{"line":1,"column":2863}},{"source":"js/ui.js","name":"i","original":{"line":140,"column":10},"generated":{"line":1,"column":2868}},{"source":"js/ui.js","original":{"line":140,"column":16},"generated":{"line":1,"column":2872}},{"source":"js/ui.js","name":"sequencerState","original":{"line":140,"column":21},"generated":{"line":1,"column":2877}},{"source":"js/ui.js","name":"selectedSequencer","original":{"line":140,"column":36},"generated":{"line":1,"column":2892}},{"source":"js/ui.js","name":"ctx","original":{"line":141,"column":13},"generated":{"line":1,"column":2912}},{"source":"js/ui.js","name":"ctx","original":{"line":141,"column":13},"generated":{"line":1,"column":2917}},{"source":"js/ui.js","name":"fillStyle","original":{"line":141,"column":17},"generated":{"line":1,"column":2921}},{"source":"js/ui.js","name":"colors","original":{"line":141,"column":29},"generated":{"line":1,"column":2931}},{"source":"js/ui.js","name":"accent","original":{"line":141,"column":36},"generated":{"line":1,"column":2933}},{"source":"js/ui.js","name":"accent","original":{"line":141,"column":36},"generated":{"line":1,"column":2940}},{"source":"js/ui.js","name":"ctx","original":{"line":143,"column":11},"generated":{"line":1,"column":2948}},{"source":"js/ui.js","name":"ctx","original":{"line":143,"column":11},"generated":{"line":1,"column":2953}},{"source":"js/ui.js","name":"fillText","original":{"line":143,"column":15},"generated":{"line":1,"column":2957}},{"source":"js/ui.js","name":"i","original":{"line":143,"column":24},"generated":{"line":1,"column":2966}},{"source":"js/ui.js","name":"x","original":{"line":143,"column":27},"generated":{"line":1,"column":2968}},{"source":"js/ui.js","name":"y","original":{"line":143,"column":30},"generated":{"line":1,"column":2970}},{"source":"js/ui.js","name":"x","original":{"line":144,"column":6},"generated":{"line":1,"column":2973}},{"source":"js/ui.js","original":{"line":144,"column":11},"generated":{"line":1,"column":2976}},{"source":"js/ui.js","name":"textSpacing","original":{"line":144,"column":16},"generated":{"line":1,"column":2981}},{"source":"js/ui.js","name":"drawCurrentNote","original":{"line":148,"column":2},"generated":{"line":1,"column":2993}},{"source":"js/ui.js","name":"x","original":{"line":149,"column":8},"generated":{"line":1,"column":3011}},{"source":"js/ui.js","name":"x","original":{"line":149,"column":8},"generated":{"line":1,"column":3015}},{"source":"js/ui.js","original":{"line":149,"column":12},"generated":{"line":1,"column":3017}},{"source":"js/ui.js","name":"widthUnit","original":{"line":149,"column":17},"generated":{"line":1,"column":3022}},{"source":"js/ui.js","name":"y","original":{"line":150,"column":8},"generated":{"line":1,"column":3032}},{"source":"js/ui.js","original":{"line":150,"column":30},"generated":{"line":1,"column":3034}},{"source":"js/ui.js","original":{"line":150,"column":12},"generated":{"line":1,"column":3038}},{"source":"js/ui.js","name":"heightUnit","original":{"line":150,"column":17},"generated":{"line":1,"column":3043}},{"source":"js/ui.js","name":"ctx","original":{"line":151,"column":9},"generated":{"line":1,"column":3054}},{"source":"js/ui.js","name":"ctx","original":{"line":151,"column":9},"generated":{"line":1,"column":3059}},{"source":"js/ui.js","name":"fillStyle","original":{"line":151,"column":13},"generated":{"line":1,"column":3063}},{"source":"js/ui.js","name":"colors","original":{"line":151,"column":25},"generated":{"line":1,"column":3073}},{"source":"js/ui.js","name":"dark","original":{"line":151,"column":32},"generated":{"line":1,"column":3075}},{"source":"js/ui.js","name":"dark","original":{"line":151,"column":32},"generated":{"line":1,"column":3082}},{"source":"js/ui.js","name":"ctx","original":{"line":152,"column":9},"generated":{"line":1,"column":3087}},{"source":"js/ui.js","name":"ctx","original":{"line":152,"column":9},"generated":{"line":1,"column":3092}},{"source":"js/ui.js","name":"fillText","original":{"line":152,"column":13},"generated":{"line":1,"column":3096}},{"source":"js/ui.js","original":{"line":152,"column":22},"generated":{"line":1,"column":3105}},{"source":"js/ui.js","name":"sequencerState","original":{"line":152,"column":27},"generated":{"line":1,"column":3110}},{"source":"js/ui.js","name":"currentNote","original":{"line":152,"column":42},"generated":{"line":1,"column":3125}},{"source":"js/ui.js","name":"x","original":{"line":152,"column":55},"generated":{"line":1,"column":3137}},{"source":"js/ui.js","name":"y","original":{"line":152,"column":58},"generated":{"line":1,"column":3139}},{"source":"js/ui.js","name":"drawPlaying","original":{"line":155,"column":2},"generated":{"line":1,"column":3142}},{"source":"js/ui.js","name":"x","original":{"line":156,"column":8},"generated":{"line":1,"column":3156}},{"source":"js/ui.js","name":"x","original":{"line":156,"column":8},"generated":{"line":1,"column":3160}},{"source":"js/ui.js","original":{"line":156,"column":12},"generated":{"line":1,"column":3162}},{"source":"js/ui.js","name":"widthUnit","original":{"line":156,"column":17},"generated":{"line":1,"column":3167}},{"source":"js/ui.js","original":{"line":156,"column":29},"generated":{"line":1,"column":3177}},{"source":"js/ui.js","name":"y","original":{"line":157,"column":8},"generated":{"line":1,"column":3179}},{"source":"js/ui.js","original":{"line":157,"column":30},"generated":{"line":1,"column":3181}},{"source":"js/ui.js","original":{"line":157,"column":12},"generated":{"line":1,"column":3183}},{"source":"js/ui.js","name":"heightUnit","original":{"line":157,"column":17},"generated":{"line":1,"column":3188}},{"source":"js/ui.js","name":"ctx","original":{"line":158,"column":9},"generated":{"line":1,"column":3199}},{"source":"js/ui.js","name":"ctx","original":{"line":158,"column":9},"generated":{"line":1,"column":3204}},{"source":"js/ui.js","name":"fillStyle","original":{"line":158,"column":13},"generated":{"line":1,"column":3208}},{"source":"js/ui.js","name":"colors","original":{"line":158,"column":25},"generated":{"line":1,"column":3218}},{"source":"js/ui.js","name":"dark","original":{"line":158,"column":32},"generated":{"line":1,"column":3220}},{"source":"js/ui.js","name":"dark","original":{"line":158,"column":32},"generated":{"line":1,"column":3227}},{"source":"js/ui.js","name":"sequencerState","original":{"line":159,"column":9},"generated":{"line":1,"column":3232}},{"source":"js/ui.js","name":"sequencerState","original":{"line":159,"column":9},"generated":{"line":1,"column":3237}},{"source":"js/ui.js","name":"playing","original":{"line":159,"column":24},"generated":{"line":1,"column":3252}},{"source":"js/ui.js","original":{"line":160,"column":8},"generated":{"line":1,"column":3260}},{"source":"js/ui.js","name":"ctx","original":{"line":160,"column":13},"generated":{"line":1,"column":3265}},{"source":"js/ui.js","name":"fillText","original":{"line":160,"column":17},"generated":{"line":1,"column":3269}},{"source":"js/ui.js","original":{"line":160,"column":26},"generated":{"line":1,"column":3278}},{"source":"js/ui.js","name":"x","original":{"line":160,"column":31},"generated":{"line":1,"column":3282}},{"source":"js/ui.js","name":"y","original":{"line":160,"column":34},"generated":{"line":1,"column":3284}},{"source":"js/ui.js","original":{"line":161,"column":8},"generated":{"line":1,"column":3287}},{"source":"js/ui.js","name":"ctx","original":{"line":161,"column":13},"generated":{"line":1,"column":3292}},{"source":"js/ui.js","name":"fillText","original":{"line":161,"column":17},"generated":{"line":1,"column":3296}},{"source":"js/ui.js","original":{"line":161,"column":26},"generated":{"line":1,"column":3305}},{"source":"js/ui.js","name":"x","original":{"line":161,"column":31},"generated":{"line":1,"column":3309}},{"source":"js/ui.js","name":"y","original":{"line":161,"column":34},"generated":{"line":1,"column":3311}},{"source":"js/ui.js","name":"toggleModal","original":{"line":164,"column":2},"generated":{"line":1,"column":3314}},{"source":"js/ui.js","original":{"line":166,"column":48},"generated":{"line":1,"column":3328}},{"source":"js/ui.js","original":{"line":166,"column":8},"generated":{"line":1,"column":3332}},{"source":"js/ui.js","name":"errorDisplay","original":{"line":166,"column":13},"generated":{"line":1,"column":3337}},{"source":"js/ui.js","name":"childNodes","original":{"line":166,"column":26},"generated":{"line":1,"column":3350}},{"source":"js/ui.js","name":"length","original":{"line":166,"column":37},"generated":{"line":1,"column":3361}},{"source":"js/ui.js","name":"modal","original":{"line":167,"column":11},"generated":{"line":1,"column":3370}},{"source":"js/ui.js","name":"modal","original":{"line":167,"column":11},"generated":{"line":1,"column":3375}},{"source":"js/ui.js","name":"classList","original":{"line":167,"column":17},"generated":{"line":1,"column":3381}},{"source":"js/ui.js","name":"toggle","original":{"line":167,"column":27},"generated":{"line":1,"column":3391}},{"source":"js/ui.js","original":{"line":167,"column":34},"generated":{"line":1,"column":3398}},{"source":"js/ui.js","name":"modal","original":{"line":168,"column":11},"generated":{"line":1,"column":3408}},{"source":"js/ui.js","name":"modal","original":{"line":168,"column":11},"generated":{"line":1,"column":3413}},{"source":"js/ui.js","name":"classList","original":{"line":168,"column":17},"generated":{"line":1,"column":3419}},{"source":"js/ui.js","name":"toggle","original":{"line":168,"column":27},"generated":{"line":1,"column":3429}},{"source":"js/ui.js","original":{"line":168,"column":34},"generated":{"line":1,"column":3436}},{"source":"js/ui.js","name":"canvas","original":{"line":169,"column":11},"generated":{"line":1,"column":3447}},{"source":"js/ui.js","name":"canvas","original":{"line":169,"column":11},"generated":{"line":1,"column":3452}},{"source":"js/ui.js","name":"classList","original":{"line":169,"column":18},"generated":{"line":1,"column":3459}},{"source":"js/ui.js","name":"toggle","original":{"line":169,"column":28},"generated":{"line":1,"column":3469}},{"source":"js/ui.js","original":{"line":169,"column":35},"generated":{"line":1,"column":3476}},{"source":"js/ui.js","name":"modalVisible","original":{"line":171,"column":9},"generated":{"line":1,"column":3487}},{"source":"js/ui.js","name":"modalVisible","original":{"line":171,"column":9},"generated":{"line":1,"column":3492}},{"source":"js/ui.js","original":{"line":171,"column":25},"generated":{"line":1,"column":3506}},{"source":"js/ui.js","name":"modalVisible","original":{"line":171,"column":30},"generated":{"line":1,"column":3511}},{"source":"js/ui.js","name":"printConfig","original":{"line":174,"column":2},"generated":{"line":1,"column":3524}},{"source":"js/ui.js","original":{"line":175,"column":12},"generated":{"line":1,"column":3538}},{"source":"js/ui.js","original":{"line":177,"column":20},"generated":{"line":1,"column":3576}},{"source":"js/ui.js","name":"sequencerState","original":{"line":177,"column":25},"generated":{"line":1,"column":3581}},{"source":"js/ui.js","name":"notes","original":{"line":177,"column":40},"generated":{"line":1,"column":3596}},{"source":"js/ui.js","original":{"line":178,"column":23},"generated":{"line":1,"column":3629}},{"source":"js/ui.js","name":"sequencerState","original":{"line":178,"column":28},"generated":{"line":1,"column":3634}},{"source":"js/ui.js","name":"octaveLow","original":{"line":178,"column":43},"generated":{"line":1,"column":3649}},{"source":"js/ui.js","original":{"line":179,"column":24},"generated":{"line":1,"column":3686}},{"source":"js/ui.js","name":"sequencerState","original":{"line":179,"column":29},"generated":{"line":1,"column":3691}},{"source":"js/ui.js","name":"octaveHigh","original":{"line":179,"column":44},"generated":{"line":1,"column":3706}},{"source":"js/ui.js","original":{"line":180,"column":23},"generated":{"line":1,"column":3743}},{"source":"js/ui.js","name":"sequencerState","original":{"line":180,"column":28},"generated":{"line":1,"column":3748}},{"source":"js/ui.js","name":"speedSlow","original":{"line":180,"column":43},"generated":{"line":1,"column":3763}},{"source":"js/ui.js","original":{"line":181,"column":23},"generated":{"line":1,"column":3799}},{"source":"js/ui.js","name":"sequencerState","original":{"line":181,"column":28},"generated":{"line":1,"column":3804}},{"source":"js/ui.js","name":"speedFast","original":{"line":181,"column":43},"generated":{"line":1,"column":3819}},{"source":"js/ui.js","name":"parseConfig","original":{"line":186,"column":2},"generated":{"line":1,"column":3846}},{"source":"js/ui.js","name":"str","original":{"line":186,"column":14},"generated":{"line":1,"column":3858}},{"source":"js/ui.js","original":{"line":187,"column":8},"generated":{"line":1,"column":3861}},{"source":"js/ui.js","name":"dataJSON","original":{"line":188,"column":12},"generated":{"line":1,"column":3865}},{"source":"js/ui.js","name":"dataJSON","original":{"line":188,"column":12},"generated":{"line":1,"column":3871}},{"source":"js/ui.js","name":"JSON","original":{"line":188,"column":23},"generated":{"line":1,"column":3873}},{"source":"js/ui.js","name":"parse","original":{"line":188,"column":28},"generated":{"line":1,"column":3878}},{"source":"js/ui.js","name":"str","original":{"line":188,"column":34},"generated":{"line":1,"column":3884}},{"source":"js/ui.js","name":"dataJSON","original":{"line":189,"column":6},"generated":{"line":1,"column":3887}},{"source":"js/ui.js","name":"notes","original":{"line":189,"column":15},"generated":{"line":1,"column":3889}},{"source":"js/ui.js","name":"dataJSON","original":{"line":189,"column":23},"generated":{"line":1,"column":3895}},{"source":"js/ui.js","name":"notes","original":{"line":189,"column":32},"generated":{"line":1,"column":3897}},{"source":"js/ui.js","name":"split","original":{"line":189,"column":38},"generated":{"line":1,"column":3903}},{"source":"js/ui.js","original":{"line":189,"column":44},"generated":{"line":1,"column":3909}},{"source":"js/ui.js","name":"console","original":{"line":190,"column":6},"generated":{"line":1,"column":3914}},{"source":"js/ui.js","name":"log","original":{"line":190,"column":14},"generated":{"line":1,"column":3922}},{"source":"js/ui.js","name":"dataJSON","original":{"line":190,"column":18},"generated":{"line":1,"column":3926}},{"source":"js/ui.js","name":"errors","original":{"line":191,"column":12},"generated":{"line":1,"column":3929}},{"source":"js/ui.js","name":"errors","original":{"line":191,"column":12},"generated":{"line":1,"column":3935}},{"source":"js/ui.js","original":{"line":191,"column":21},"generated":{"line":1,"column":3938}},{"source":"js/ui.js","name":"dataJSON","original":{"line":191,"column":30},"generated":{"line":1,"column":3940}},{"source":"js/ui.js","name":"dataJSON","original":{"line":191,"column":30},"generated":{"line":1,"column":3942}},{"source":"js/ui.js","name":"dataJSON","original":{"line":191,"column":30},"generated":{"line":1,"column":3952}},{"source":"js/ui.js","name":"displayErrors","original":{"line":192,"column":11},"generated":{"line":1,"column":3955}},{"source":"js/ui.js","name":"displayErrors","original":{"line":192,"column":11},"generated":{"line":1,"column":3960}},{"source":"js/ui.js","name":"errors","original":{"line":192,"column":25},"generated":{"line":1,"column":3974}},{"source":"js/ui.js","original":{"line":193,"column":10},"generated":{"line":1,"column":3978}},{"source":"js/ui.js","name":"errors","original":{"line":193,"column":18},"generated":{"line":1,"column":3980}},{"source":"js/ui.js","name":"errors","original":{"line":193,"column":18},"generated":{"line":1,"column":3982}},{"source":"js/ui.js","name":"errors","original":{"line":193,"column":18},"generated":{"line":1,"column":3991}},{"source":"js/ui.js","name":"sequencerState","original":{"line":194,"column":13},"generated":{"line":1,"column":3995}},{"source":"js/ui.js","name":"sequencerState","original":{"line":194,"column":13},"generated":{"line":1,"column":4000}},{"source":"js/ui.js","name":"loadConfig","original":{"line":194,"column":28},"generated":{"line":1,"column":4015}},{"source":"js/ui.js","name":"dataJSON","original":{"line":194,"column":39},"generated":{"line":1,"column":4026}},{"source":"js/ui.js","original":{"line":196,"column":6},"generated":{"line":1,"column":4029}},{"source":"js/ui.js","name":"err","original":{"line":196,"column":13},"generated":{"line":1,"column":4035}},{"source":"js/ui.js","name":"console","original":{"line":197,"column":6},"generated":{"line":1,"column":4038}},{"source":"js/ui.js","name":"log","original":{"line":197,"column":14},"generated":{"line":1,"column":4046}},{"source":"js/ui.js","original":{"line":197,"column":18},"generated":{"line":1,"column":4050}},{"source":"js/ui.js","name":"displayErrors","original":{"line":198,"column":11},"generated":{"line":1,"column":4065}},{"source":"js/ui.js","name":"displayErrors","original":{"line":198,"column":11},"generated":{"line":1,"column":4070}},{"source":"js/ui.js","original":{"line":198,"column":25},"generated":{"line":1,"column":4084}},{"source":"js/ui.js","name":"err","original":{"line":198,"column":26},"generated":{"line":1,"column":4085}},{"source":"js/ui.js","name":"displayErrors","original":{"line":202,"column":2},"generated":{"line":1,"column":4090}},{"source":"js/ui.js","name":"errors","original":{"line":202,"column":16},"generated":{"line":1,"column":4104}},{"source":"js/ui.js","name":"errorHTML","original":{"line":203,"column":8},"generated":{"line":1,"column":4107}},{"source":"js/ui.js","name":"errorHTML","original":{"line":203,"column":8},"generated":{"line":1,"column":4111}},{"source":"js/ui.js","original":{"line":203,"column":20},"generated":{"line":1,"column":4113}},{"source":"js/ui.js","original":{"line":204,"column":9},"generated":{"line":1,"column":4117}},{"source":"js/ui.js","name":"errors","original":{"line":204,"column":17},"generated":{"line":1,"column":4119}},{"source":"js/ui.js","name":"errors","original":{"line":204,"column":17},"generated":{"line":1,"column":4121}},{"source":"js/ui.js","name":"errors","original":{"line":204,"column":17},"generated":{"line":1,"column":4130}},{"source":"js/ui.js","original":{"line":209,"column":11},"generated":{"line":1,"column":4133}},{"source":"js/ui.js","name":"errorDisplay","original":{"line":209,"column":16},"generated":{"line":1,"column":4138}},{"source":"js/ui.js","name":"innerHTML","original":{"line":209,"column":29},"generated":{"line":1,"column":4151}},{"source":"js/ui.js","original":{"line":209,"column":41},"generated":{"line":1,"column":4161}},{"source":"js/ui.js","name":"errorHTML","original":{"line":205,"column":6},"generated":{"line":1,"column":4165}},{"source":"js/ui.js","name":"errors","original":{"line":205,"column":18},"generated":{"line":1,"column":4167}},{"source":"js/ui.js","name":"reduce","original":{"line":205,"column":25},"generated":{"line":1,"column":4169}},{"source":"js/ui.js","original":{"line":205,"column":32},"generated":{"line":1,"column":4176}},{"source":"js/ui.js","name":"acc","original":{"line":205,"column":33},"generated":{"line":1,"column":4177}},{"source":"js/ui.js","name":"error","original":{"line":205,"column":38},"generated":{"line":1,"column":4179}},{"source":"js/ui.js","name":"acc","original":{"line":206,"column":15},"generated":{"line":1,"column":4183}},{"source":"js/ui.js","name":"error","original":{"line":206,"column":28},"generated":{"line":1,"column":4192}},{"source":"js/ui.js","original":{"line":207,"column":9},"generated":{"line":1,"column":4201}},{"source":"js/ui.js","name":"errorDisplay","original":{"line":208,"column":11},"generated":{"line":1,"column":4205}},{"source":"js/ui.js","name":"errorDisplay","original":{"line":208,"column":11},"generated":{"line":1,"column":4210}},{"source":"js/ui.js","name":"innerHTML","original":{"line":208,"column":24},"generated":{"line":1,"column":4223}},{"source":"js/ui.js","name":"errorHTML","original":{"line":208,"column":36},"generated":{"line":1,"column":4233}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":4237}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":4245}},{"source":"js/ui.js","original":{"line":5,"column":24},"generated":{"line":1,"column":4253}}],"sources":{"js/ui.js":"import { validate } from \"./utils/validate\";\nimport { isEmpty } from \"lodash\";\nimport { colors } from \"./colors\";\n\nexport default class UI {\n  constructor(sequencerState) {\n    this.sequencerState = sequencerState;\n    this.canvas = document.getElementById(\"canvas\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.modal = document.getElementById(\"configure-modal\");\n    this.modalVisible = false;\n    this.errorDisplay = document.getElementById(\"error-display\");\n    this.action = [\"+\", \"-\", \"<\", \">\", \"*\", \"f\", \"s\", \"#\", \"_\", \"=\"];\n    this.widthUnit = this.canvas.width / 10;\n    this.heightUnit = this.canvas.height / 10;\n    this.textSpacing = (this.canvas.width - this.widthUnit * 2) / 16;\n    this.font = \"30px IBM Plex Mono\";\n    this.configErrors = undefined;\n  }\n\n  handleKeydown(e) {\n    const usedKeys = [\n      \"ArrowLeft\",\n      \"ArrowRight\",\n      \"ArrowUp\",\n      \"ArrowDown\",\n      \" \",\n      \"1\",\n      \"2\",\n      \"3\",\n      \"4\",\n      \"c\",\n    ];\n    if (usedKeys.includes(e.key) && this.modalVisible === false) {\n      e.preventDefault();\n      switch (e.key) {\n        case \"ArrowLeft\":\n          this.sequencerState.editPosition === 0\n            ? (this.sequencerState.editPosition =\n                this.sequencerState.pattern.length - 1)\n            : (this.sequencerState.editPosition -= 1);\n          this.draw();\n          break;\n        case \"ArrowRight\":\n          this.sequencerState.editPosition ===\n          this.sequencerState.pattern.length - 1\n            ? (this.sequencerState.editPosition = 0)\n            : (this.sequencerState.editPosition += 1);\n          this.draw();\n          break;\n        case \"ArrowUp\":\n          this.sequencerState.pattern[this.sequencerState.editPosition] ===\n          this.action.length - 1\n            ? (this.sequencerState.pattern[\n                this.sequencerState.editPosition\n              ] = 0)\n            : (this.sequencerState.pattern[\n                this.sequencerState.editPosition\n              ] += 1);\n          this.draw();\n          break;\n        case \"ArrowDown\":\n          this.sequencerState.pattern[this.sequencerState.editPosition] === 0\n            ? (this.sequencerState.pattern[this.sequencerState.editPosition] =\n                this.action.length - 1)\n            : (this.sequencerState.pattern[\n                this.sequencerState.editPosition\n              ] -= 1);\n          this.draw();\n          break;\n        case \" \":\n          this.sequencerState.playing = !this.sequencerState.playing;\n          this.draw();\n          break;\n        case \"1\":\n          this.sequencerState.selectedSequencer = 1;\n          this.draw();\n          console.log(\"1\");\n          break;\n        case \"2\":\n          this.sequencerState.selectedSequencer = 2;\n          this.draw();\n          break;\n        case \"3\":\n          this.sequencerState.selectedSequencer = 3;\n          this.draw();\n          break;\n        case \"4\":\n          this.sequencerState.selectedSequencer = 4;\n          this.draw();\n          break;\n      }\n    }\n    if (e.key === \"Escape\") {\n      this.toggleModal();\n    }\n  }\n\n  draw() {\n    this.clear();\n    this.drawSequencer();\n    this.drawSequencerIndicator();\n    this.drawCurrentNote();\n    this.drawPlaying();\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  drawSequencer() {\n    let x = this.widthUnit;\n    const y = this.canvas.height / 1.5;\n\n    for (let i = 0; i < 16; i++) {\n      this.ctx.font = this.font;\n      this.ctx.fillStyle = colors.dark;\n      if (i === this.sequencerState.editPosition) {\n        this.ctx.fillStyle = colors.accent;\n      }\n      this.ctx.fillText(this.action[this.sequencerState.pattern[i]], x, y);\n      // Draws playhead\n      if (i === this.sequencerState.playPosition) {\n        const rectangleWidth = this.ctx.measureText(\n          this.sequencerState.pattern[i]\n        ).width;\n        this.ctx.fillStyle = colors.dark;\n        this.ctx.fillRect(x, y - (rectangleWidth - 30), rectangleWidth, 3);\n      }\n\n      x += this.textSpacing;\n    }\n  }\n\n  drawSequencerIndicator() {\n    let x = this.widthUnit;\n    let y = this.heightUnit * 2;\n    for (let i = 1; i <= 4; i++) {\n      this.ctx.fillStyle = colors.dark;\n      if (i === this.sequencerState.selectedSequencer) {\n        this.ctx.fillStyle = colors.accent;\n      }\n      this.ctx.fillText(i, x, y);\n      x += this.textSpacing;\n    }\n  }\n\n  drawCurrentNote() {\n    let x = this.widthUnit;\n    let y = this.heightUnit * 3.5;\n    this.ctx.fillStyle = colors.dark;\n    this.ctx.fillText(this.sequencerState.currentNote, x, y);\n  }\n\n  drawPlaying() {\n    let x = this.widthUnit - 4;\n    let y = this.heightUnit * 5;\n    this.ctx.fillStyle = colors.dark;\n    this.sequencerState.playing\n      ? this.ctx.fillText(\"►\", x, y)\n      : this.ctx.fillText(\"⏸\", x, y);\n  }\n\n  toggleModal() {\n    // Checks for errors before toggling modal off\n    if (this.errorDisplay.childNodes.length === 0) {\n      this.modal.classList.toggle(\"hidden\");\n      this.modal.classList.toggle(\"visible\");\n      this.canvas.classList.toggle(\"dimmed\");\n    }\n    this.modalVisible = !this.modalVisible;\n  }\n\n  printConfig() {\n    return `\n      {\n        \"notes\": \"${this.sequencerState.notes}\",\n        \"octaveLow\": ${this.sequencerState.octaveLow},\n        \"octaveHigh\": ${this.sequencerState.octaveHigh},\n        \"speedSlow\": ${this.sequencerState.speedSlow},\n        \"speedFast\": ${this.sequencerState.speedFast}\n      }\n    `;\n  }\n\n  parseConfig(str) {\n    try {\n      const dataJSON = JSON.parse(str);\n      dataJSON.notes = dataJSON.notes.split(\",\");\n      console.log(dataJSON);\n      const errors = validate(dataJSON);\n      this.displayErrors(errors);\n      if (isEmpty(errors)) {\n        this.sequencerState.loadConfig(dataJSON);\n      }\n    } catch (err) {\n      console.log(\"parse error\");\n      this.displayErrors([err]);\n    }\n  }\n\n  displayErrors(errors) {\n    let errorHTML = \"\";\n    if (!isEmpty(errors)) {\n      errorHTML = errors.reduce((acc, error) => {\n        return acc + `<li>${error}</li>`;\n      }, \"\");\n      this.errorDisplay.innerHTML = errorHTML;\n    } else this.errorDisplay.innerHTML = \"\";\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"4d74712ad154dff891f80c2018173ef3","cacheData":{"env":{}}}